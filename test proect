
import pandas as pd
import matplotlib.pyplot as plt

# def catspending(filename):
df = pd.read_csv("300.csv")
total = df['Amount'].sum()
categoryspending = df.groupby('Category', as_index=False)['Amount'].sum()
categoryspending = categoryspending.sort_values(by='Amount', ascending=False)
categoryspending['Percentage'] = (categoryspending['Amount']/total)*100
print(categoryspending.to_markdown())
labels = categoryspending.index

# Pie chart sizes (percentages)
sizes = categoryspending['Percentage']

# Plotting the pie chart
plt.figure(figsize=(7, 7))
plt.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=90, colors=plt.cm.Paired.colors)
plt.title('Category Distribution')
plt.axis('equal')  # Equal aspect ratio ensures that pie is drawn as a circle.
plt.show()
    

# def hist(filename):
# month_map = {
#     'January': '01',
#     'February': '02',
#     'March': '03',
#     'April': '04',
#     'May': '05',
#     'June': '06',
#     'July': '07',
#     'August': '08',
#     'September': '09',
#     'October': '10',
#     'November': '11',
#     'December': '12'
# }
# df =  pd.read_csv('1.csv')
# df[['Year', 'Month', 'Day']] = df['Date'].str.split(('-'), expand=True)
# month = input('Enter the month you want to see history of :').strip().title()
# print(month_map[month])

# df.drop(columns='Date', inplace=True)
# df_filtered = df[ (df['Month'] == month_map[month])]
# df_filtered = df_filtered[['Day','Category','Amount']]
# df_filtered.reset_index(drop=True, inplace=True)
# print(df_filtered.to_markdown(),'\n'*3)





# D:\SHUBHAM\python\projct\300.csv



            
